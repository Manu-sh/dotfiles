#!/bin/bash

# THIS SCRIPT IS NOT FOR FINAL USER
# CFG CAN BE OVERWRITTEN OR DAMAGED

WORKDIR="$(dirname "$PWD/$0")"

dosym() {
	ln -snf "$WORKDIR/${1}" "$HOME/${2}"
}

recdosym() {
	for i in $(ls -A $1); do
		dosym "$1/$i" "$2"
	done
	unset i
}

vimcfg() {
	recdosym "vim"
}


bashcfg() {
	recdosym "bash"
}


tmuxcfg() {
	dosym "tmux/.tmux.conf"
}


i3cfg() {
	dosym "i3" ".config"

	# i have problem with win key on my desktop pc
	if [ "$(nproc --all)" == "8" ]; then
		sed -i s'/set $mod Mod4/set $mod Mod1/'g "$HOME/.config/i3/config"
	elif [ "$(nproc --all)" == "2" ]; then
		sed -i s'/set $mod Mod1/set $mod Mod4/'g "$HOME/.config/i3/config"
	fi
}

gtkcfg() {
	dosym "gtk/.gtkrc-2.0"
}

rangercfg() {
	dosym "ranger" ".config"
}

icewmcfg() {
	dosym "icewm"
}

nanocfg() {
	dosym "nano/.nanorc"
}

vimcfg
bashcfg
tmuxcfg
i3cfg
gtkcfg
rangercfg
icewmcfg
